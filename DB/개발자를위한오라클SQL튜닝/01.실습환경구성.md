# Chapter 01 "SQL 튜닝을 위한 준비"

## 0. macOS 오라클 DB 설치하기

### 1) 도커 설치 파일 다운로드 후 설치

* https://www.docker.com/

```shell
# 도커 버전 확인
$ docker version
$ docker info
```
### 2) 오라클 도커 이미지 내려받기

```shell
# 도커 이미지 다운로드
$ docker search oracle-xe-11g
$ docker pull wnameless/oracle-xe-11g-r2

# 다운로드한 이미지 목록 확인
$ docker images
REPOSITORY                   TAG       IMAGE ID       CREATED       SIZE
wnameless/oracle-xe-11g-r2   latest    0d19fd2e072e   2 years ago   2.1GB
```

### 3) 도커 컨테이너 생성 및 실행하기

```shell
# 도커 이미지를 기반으로 컨테이너 생성 및 실행
$ docker run --name oracle11g-sql-study -d -p 8080:8080 -p 1521:1521 wnameless/oracle-xe-11g-r2

# 실행 중인 컨테이너 목록을 확인
$ docker ps
```

* --name: 자신이 설정하고 싶은 이름으로 입력 (생략해도 됨)
* -d: 백그라운드에서 컨테이너 실행
* -p: 호스트의 PORT를 외부에 공개함 (오라클 docker 컨테이너의 port를 연결함)
* -v: 컨테이너(프로그램) 실행시킨 후 생성된 데이터는 컨테이너가 종료되면 저장이 되지 않고 날아가버리는것 방지 (무상태 지향),<br> 
도커의 외부 즉 맥북에 데이터를 저장함

### 4) docker 명령어

```shell script
# 컨테이너 실행
$ docker start oracle11g-sql-study 

# 실행 중인 컨테이너 목록을 확인
$ docker ps 

# 실행 중인 컨테이너를 정지
$ docker stop oracle11g-sql-study 
```

## Reference

* https://youngjinmo.github.io/2021/06/oracle-xe-with-docker/
